<div class="container p-4 milestone-container" style="max-width: 1031px">
  <!-- Header -->
  <div class="d-flex justify-content-between align-items-start mb-4">
    <div>
      <h1 class="h3 fw-bold text-dark mb-2">Project Milestones</h1>
      <p class="text-muted small">Manage and track your project milestones</p>
    </div>
    <button
      class="btn btn-primary btn-sm d-flex align-items-center gap-2"
      [routerLink]="['/milestone-form']"
    >
      <i class="bi bi-plus"></i>
      Add Milestone
    </button>
  </div>

  <!-- Stats Cards -->
  <div class="row g-3 mb-4">
    <!-- Total Milestones -->

    @if(datasource.length == 0){
      <div class="col-md-4">
      <div class="card border-0 shadow-sm h-100">
        <div class="card-body p-3">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <p class="text-muted small mb-1 fw-medium">Total Milestones</p>
             
              <h4 class="fw-bold text-dark mb-0">0</h4>
              
            </div>
            <div class="icon-wrapper bg-primary-subtle">
              <i class="bi bi-bullseye text-primary fs-5"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
      <div class="col-md-4">
      <div class="card border-0 shadow-sm h-100">
        <div class="card-body p-3">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <p class="text-muted small mb-1 fw-medium">Completed</p>
            
                <h4 class="fw-bold text-success mb-0">
                0
              </h4>
             
            </div>
            <div class="icon-wrapper bg-success-subtle">
              <i class="bi bi-check-circle text-success fs-5"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card border-0 shadow-sm h-100">
        <div class="card-body p-3">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <p class="text-muted small mb-1 fw-medium">Progress</p>
            
                <h4 class="fw-bold text-purple mb-0">0%</h4>
             
            
            </div>
          
          </div>
        </div>
      </div>
    </div>

    }
    @else{
    

    <div class="col-md-4">
      <div class="card border-0 shadow-sm h-100">
        <div class="card-body p-3">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <p class="text-muted small mb-1 fw-medium">Total Milestones</p>

               <h4 class="fw-bold text-dark mb-0">{{ datasource?.length  }}</h4>
             
            </div>
            <div class="icon-wrapper bg-primary-subtle">
              <i class="bi bi-bullseye text-primary fs-5"></i>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Completed -->
    <div class="col-md-4">
      <div class="card border-0 shadow-sm h-100">
        <div class="card-body p-3">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <p class="text-muted small mb-1 fw-medium">Completed</p>
             
              <h4 class="fw-bold text-success mb-0">
                {{ getCompletedCount() }}
              </h4>
            </div>
            <div class="icon-wrapper bg-success-subtle">
              <i class="bi bi-check-circle text-success fs-5"></i>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Progress -->
    <div class="col-md-4">
      <div class="card border-0 shadow-sm h-100">
        <div class="card-body p-3">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <p class="text-muted small mb-1 fw-medium">Progress</p>
              <h4 class="fw-bold text-purple mb-0">{{ getProgress() }}%</h4>
              
            
            </div>
          
          </div>
        </div>
      </div>
    </div>
    }
  </div>

  <!-- Milestones List -->
  <app-milestone-card
    [datasource]="datasource"
    (milestoneDelete)="onDelete($event)"
  ></app-milestone-card>
</div>
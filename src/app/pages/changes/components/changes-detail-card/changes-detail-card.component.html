<!-- changes-detail-card.component.html -->
<div class="issue-detail-container">
  <div class="back-navigation">
    <button class="back-btn" (click)="goBack()">â† Back to Issues List</button>
  </div>

  <div class="issue-card">
    <!-- Header -->
    <div class="issue-header">
      <div class="header-content">
        <div class="title-section">
          <div class="title-row">
            <h1 class="issue-title">{{ datasource.change_title
 }}</h1>
            <span class="version-tag">v{{ datasource.version }}</span>
          </div>
          
          <div class="badges-row">
            <span class="status-badge" [ngClass]="getStatusColor(datasource.category)">
    <span class="status-icon">{{ getStatusIcon(datasource.category) }}</span>
    {{ datasource.category }}
  </span>
            <!-- <span *ngIf="issue.priority" class="priority-text" [ngClass]="getPriorityColor(issue.priority)">
              Priority: {{ issue.priority }}
            </span> -->
            <!-- <span class="issue-id">Issue #{{ issue.id }}</span> -->
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="issue-content">
      <!-- Description -->
      <div class="section">
        <h3 class="section-title">
          <span class="section-icon">ğŸ’¬</span>
          Description
        </h3>
        <div class="description-box">
          <p class="description-text">{{ datasource.change_desc }}</p>
        </div>
      </div>

      <div *ngIf="issue.images && issue.images.length > 0" class="section">
        <h3 class="section-title">
          <span class="section-icon">ğŸ–¼ï¸</span>
          Screenshots & Images ({{ issue.images.length }})
        </h3>
       <div class="images-grid">
  <div class="image-container">
    <img 
      *ngIf="datasource.image_url"
      [src]="datasource.image_url"
      class="image-caption"
      (click)="openFullImage(datasource.image_url)"
    />
  </div>
</div>

      </div>

      <!-- Issue Details Grid -->
      <div class="details-grid">
        <div class="detail-item">
          <span class="detail-icon">ğŸ“</span>
          <div class="detail-content">
            <span class="detail-label">App Name</span>
            <p class="detail-value">{{ datasource.app }}</p>
          </div>
        </div>

        <div class="detail-item">
          <span class="detail-icon">ğŸ‘¤</span>
          <div class="detail-content">
            <span class="detail-label">Developer</span>
            <p class="detail-value">{{ datasource.dev }}</p>
          </div>
        </div>

        <div class="detail-item">
          <span class="detail-icon">ğŸ“…</span>
          <div class="detail-content">
            <span class="detail-label">Reported Date</span>
            <p class="detail-value">{{ datasource.dtt_change }}</p>
          </div>
        </div>

      
        </div>
    </div>
 
  </div>

  <!-- Image Modal -->
  <div *ngIf="isModalOpen" class="modal-backdrop" (click)="onModalBackdropClick($event)">
    <div class="modal-content">
      <button class="modal-close-btn" (click)="closeImageModal()">âœ•</button>
      <img *ngIf="selectedImage" [src]="selectedImage" alt="Issue Screenshot" class="modal-image" />
    </div>
  </div>
</div>